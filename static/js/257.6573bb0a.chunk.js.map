{"version":3,"file":"static/js/257.6573bb0a.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","services/services.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\n\nexport const BackButton = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  text-align: center;\n  margin-bottom: 24px;\n  padding: 8px 16px;\n  border: 1px solid grey;\n  border-radius: 10px;\n  transition: border-color 400ms ease, color 400ms ease;\n\n  &:hover,\n  &:focus,\n  &:active {\n    border-color: #ff7341;\n    color: #ff7341;\n  }\n`;\n\nexport const DetailsContainer = styled.div`\n  padding: 24px;\n`;\n\nexport const MovieInfo = styled.div`\n  display: flex;\n  gap: 24px;\n  margin-bottom: 16px;\n`;\n\nexport const AdditionalInfo = styled.div`\n  border-top: 1px solid grey;\n  border-bottom: 1px solid grey;\n`;\n\nexport const AdditionalList = styled.ul`\n  list-style: none;\n`;\n\nexport const SubMenuLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  text-decoration: none;\n  color: inherit;\n  font-size: 24px;\n  transition: color 400ms ease;\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: #ff7341;\n  }\n`;\n","import { useEffect, useRef, useState } from 'react'; // Імпорт хуків\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchOneMovie } from 'services/services';//запит до API про конкретний фільм \nimport { RxArrowLeft, RxArrowRight } from 'react-icons/rx';//імпорт іконок\nimport { AdditionalInfo, \n  AdditionalList, \n  BackButton, \n  DetailsContainer, \n  MovieInfo, \n  SubMenuLink \n} from './MovieDetails.styled';// імпотр стилів\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    fetchOneMovie(movieId)\n      .then(chosenMovie => setMovie(chosenMovie))\n      .catch(error => {\n        console.error(error.message);\n        setMovie({});\n      });\n  }, [movieId]);\n\n  function countUserScore() {\n    const average = movie.vote_average;\n    const userScore = Math.round(average * 10).toFixed(0) + '%';\n    return userScore;\n  }\n\n  const { genres } = movie;\n  const releaseDate = new Date(movie.release_date).getFullYear();\n  const imageUrl = 'https://image.tmdb.org/t/p/w300';\n  const posterPath = movie.poster_path;\n  const productionCountries = movie.production_countries;\n\n  return (\n    <DetailsContainer>\n      <BackButton to={backLinkRef.current}>\n        <RxArrowLeft />\n        Go back\n      </BackButton>\n      <MovieInfo>\n        {posterPath && (\n          <img src={`${imageUrl}${posterPath}`} alt={movie.title} />\n        )}\n        <div>\n          <h2>\n            {movie.title} ({releaseDate ? releaseDate : movie.status})\n          </h2>\n          <p>\n            Made in:{' '}\n            {productionCountries &&\n              productionCountries.map(country => country.name).join(', ')}\n          </p>\n          <p>User Score: {countUserScore()}</p>\n          <h3>Overview</h3>\n          <p>{movie.overview}</p>\n          <h3>Genres</h3>\n          <p>{genres && genres.map(genre => genre.name).join(' ')} </p>\n        </div>\n      </MovieInfo>\n      <AdditionalInfo>\n        <h3>Additional information</h3>\n        <AdditionalList>\n          <li>\n            <SubMenuLink to=\"cast\">\n              <RxArrowRight />\n              Cast\n            </SubMenuLink>\n          </li>\n          <li>\n            <SubMenuLink to=\"reviews\">\n              <RxArrowRight />\n              Reviews\n            </SubMenuLink>\n          </li>\n        </AdditionalList>\n        <Outlet />\n      </AdditionalInfo>\n    </DetailsContainer>\n  );\n};\nexport default MovieDetails;\n\n//*#info - Докладна інформація про обраний фільм (зображення, заголовок, дата випуску, країна виробництва,рейтинг користувачів, огляд, жанр)\n/*\nOutlet - відображення вкладених компонентів залежно від URL\nconst MovieDetails = () => { ... } - оголошення функціонального компонента\nconst [movie, setMovie] = useState({}) - хук стану useState, movie - зберігає інформацію про обраний фільм, setMovie - оновлення стану\nconst Location = useLocation() - хук useLocation() - для отримання стану про поточний маршрут\nconst backLinkRef = useRef(Location.state?.from ?? '/') - хук useRef - створення посилання з поточним маршрутом, якщо from відсутнє - використай посилання \"/\"\nconst { movieId } = useParams() - хук useParams() - отримання параметрів { movieId } - отримання інформації про фільм з URL \nuseEffect(() => { ... }, [movieId]) - коли зміниться [movieId] зроби запит до API для отримання інформації про фільм\nfetchOneMovie(movieId).then(chosenMovie => setMovie(chosenMovie)).catch(error => {...} - виклик ф-ї fetchOneMovie з інформацією про фільм, запиши її в \"movie\", інакш виведи в консоль помилку\n\nfunction countUserScore() { ... } - ф-я для рорзрахунку рейтингу користувачів на основі середнього рейтингу, зберігається у змінній average \nconst average = movie.vote_average - зчитуємо середній рейтинг з фільму\nconst userScore = Math.round(average * 10).toFixed(0) + '%' - обчислюємо рейтинг користувачів у % (кожний бал * 10 і округлюємо до найближчого цілого)\n\ngenres, releaseDate, imageUrl, posterPath, productionCountries - данні про фільм\n\nповертаємо розмітку\n...\nВиведення пунктів додаткової інформації: \"Cast\" і \"Reviews\", як посилання. \n\n\n*/","import axios from 'axios'; //бібліотека відправки асинхронних HTTP-запитів до API\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '6cbea8cece37cf85eba0b83585dd8520';\n\n// Список популярних фільмів на поточний день\nexport const fetchTrending = async () => {\n  const params = {\n    api_key: API_KEY,\n    page: 1, // пагінація результатів\n  };\n  const { data } = await axios.get('/trending/movie/day', { params });\n  return data.results;\n};\n\n//Пошук фільмім по запиту (query)\nexport const fetchSearchResult = async query => {\n  const params = {\n    api_key: API_KEY,\n    page: 1,\n    query,\n  };\n  const { data } = await axios.get('/search/movie', { params });\n  return data.results.filter(movie =>\n    movie.title.toLowerCase().includes(query.toLowerCase())\n  );\n};\n\n//Інформація про обраний фільм (movieId)\nexport const fetchOneMovie = async movieId => {\n  const params = {\n    api_key: API_KEY,\n    page: 1,\n  };\n  const { data } = await axios.get(`/movie/${movieId}`, { params });\n  console.log(data);\n  return data;\n};\n\n//Результат про акторський склад, ролі (moviedId)\nexport const fetchCast = async movieId => {\n  const params = {\n    api_key: API_KEY,\n    page: 1,\n    language: 'en-US',\n  };\n  const { data } = await axios.get(`/movie/${movieId}/credits`, { params });\n  return data;\n};\n\n//Результат огляду фільму (moviedId)\nexport const fetchReviews = async movieId => {\n  const params = {\n    api_key: API_KEY,\n    page: 1,\n    language: 'en-US',\n  };\n  const { data } = await axios.get(`/movie/${movieId}/reviews`, { params });\n  return data.results;\n};\n\n//*#info - функції пошуку (асинхронні запити до API)"],"names":["BackButton","styled","Link","DetailsContainer","MovieInfo","AdditionalInfo","AdditionalList","SubMenuLink","useState","movie","setMovie","location","useLocation","backLinkRef","useRef","state","from","movieId","useParams","useEffect","fetchOneMovie","then","chosenMovie","catch","error","console","message","genres","releaseDate","Date","release_date","getFullYear","posterPath","poster_path","productionCountries","production_countries","to","current","src","alt","title","status","map","country","name","join","average","vote_average","Math","round","toFixed","countUserScore","overview","genre","axios","API_KEY","fetchTrending","params","api_key","page","data","results","fetchSearchResult","query","filter","toLowerCase","includes","log","fetchCast","language","fetchReviews"],"sourceRoot":""}